{"mappings":"siBAIA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,QAC/BC,YAAaF,SAASC,cAAc,mBACpCE,QAASH,SAASC,cAAc,kBAChCG,OAAQJ,SAASC,cAAc,kBAGjC,IAAII,EAAW,EACXC,EAAa,KACbC,EAAQ,KACRC,EAAW,KAEfV,EAAKC,OAAOU,iBAAiB,UAE7B,SAAuBC,GACrBA,EAAEC,iBACa,IAAIC,SAAQ,CAACC,EAASC,KAE/BN,IACJA,GAAW,EAEXD,EAAQQ,OAAOjB,EAAKK,QAAQa,OAE5BV,EAAaW,aAAY,KACvBV,GAASQ,OAAOjB,EAAKM,OAAOY,OAC5BX,GAAY,EAEUa,KAAKC,SAAW,GAGpCC,EAAAC,GAASC,OAAOC,QAAQ,uBAAqBlB,QAAiBE,OAE9Da,EAAAC,GAASC,OAAOE,QAAQ,sBAAoBnB,QAAeE,OAGzDF,IAAaU,OAAOjB,EAAKI,YAAYc,QAEvCS,cAAcnB,KAGfC","sources":["src/js/03-promises.js"],"sourcesContent":["import \"flatpickr/dist/flatpickr.min.css\";\n\nimport Notiflix from 'notiflix'\n\nconst refs = {\n  formEl: document.querySelector('form'),\n  inputAmount: document.querySelector('[name=\"amount\"]'),\n  delayEl: document.querySelector('[name=\"delay\"]'),\n  stepEl: document.querySelector('[name=\"step\"]')\n};\n\nlet position = 0;\nlet intervalId = null;\nlet delay = null;\nlet isActive = null;\n\nrefs.formEl.addEventListener('submit', createPromise);\n\nfunction createPromise(e) {\n  e.preventDefault();\n  const promis = new Promise((resolve, reject) => {\n\n    if (isActive) { return };\n    isActive = true;\n    \n    delay = Number(refs.delayEl.value);\n  \n    intervalId = setInterval(() => {\n      delay += Number(refs.stepEl.value);\n      position += 1;\n    \n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      } else {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      };\n\n      if (position === Number(refs.inputAmount.value)) {\n\n        clearInterval(intervalId);\n      };\n\n    }, delay);\n  })\n};"],"names":["$47d4ff9957288465$var$refs","formEl","document","querySelector","inputAmount","delayEl","stepEl","$47d4ff9957288465$var$position","$47d4ff9957288465$var$intervalId","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$isActive","addEventListener","e","preventDefault","Promise","resolve","reject","Number","value","setInterval","Math","random","$parcel$interopDefault","$eWCmQ","Notify","success","failure","clearInterval"],"version":3,"file":"03-promises.fbe17522.js.map"}