{"mappings":"kjBAIMA,EAAO,CACXC,OAAQC,SAASC,cAAc,QAC/BC,YAAaF,SAASC,cAAc,mBACpCE,QAASH,SAASC,cAAc,kBAChCG,OAAQJ,SAASC,cAAc,kBAG7BI,EAAW,EACXC,EAAa,KACbC,EAAQ,KACRC,EAAW,KAEfV,EAAKC,OAAOU,iBAAiB,UAE7B,SAAuBC,GACrBA,EAAEC,iBACa,IAAIC,SAAQ,SAACC,EAASC,GAE/BN,IACJA,GAAW,EAEXD,EAAQQ,OAAOjB,EAAKK,QAAQa,OAE5BV,EAAaW,aAAY,WACvBV,GAASQ,OAAOjB,EAAKM,OAAOY,OAC5BX,GAAY,EAEUa,KAAKC,SAAW,GAGpCC,EAAAC,GAASC,OAAOC,QAAQ,uBAAwCC,OAAfnB,EAAS,QAAYmB,OAANjB,EAAM,OAEtEa,EAAAC,GAASC,OAAOG,QAAQ,sBAAqCD,OAAfnB,EAAS,QAAYmB,OAANjB,EAAM,OAGjEF,IAAaU,OAAOjB,EAAKI,YAAYc,QAEvCU,cAAcpB,KAGfC,U","sources":["src/js/03-promises.js"],"sourcesContent":["import \"flatpickr/dist/flatpickr.min.css\";\n\nimport Notiflix from 'notiflix'\n\nconst refs = {\n  formEl: document.querySelector('form'),\n  inputAmount: document.querySelector('[name=\"amount\"]'),\n  delayEl: document.querySelector('[name=\"delay\"]'),\n  stepEl: document.querySelector('[name=\"step\"]')\n};\n\nlet position = 0;\nlet intervalId = null;\nlet delay = null;\nlet isActive = null;\n\nrefs.formEl.addEventListener('submit', createPromise);\n\nfunction createPromise(e) {\n  e.preventDefault();\n  const promis = new Promise((resolve, reject) => {\n\n    if (isActive) { return };\n    isActive = true;\n    \n    delay = Number(refs.delayEl.value);\n  \n    intervalId = setInterval(() => {\n      delay += Number(refs.stepEl.value);\n      position += 1;\n    \n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n      } else {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      };\n\n      if (position === Number(refs.inputAmount.value)) {\n\n        clearInterval(intervalId);\n      };\n\n    }, delay);\n  })\n};"],"names":["$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","inputAmount","delayEl","stepEl","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$isActive","addEventListener","e","preventDefault","Promise","resolve","reject","Number","value","setInterval","Math","random","$parcel$interopDefault","$iU1Pc","Notify","success","concat","failure","clearInterval"],"version":3,"file":"03-promises.bc0dae0c.js.map"}